<!DOCTYPE html>
<html lang="pt-br" ng-app="StarterApp">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="styles/cadastrar-produto.css">
    </head>
    <body layout="row" ng-controller="AppCtrl">

    <md-content flex md-scroll-y  id="conteudo">
        <md-card md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" md-theme-watch="">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Novo Produto</span>
                    <span class="md-subhead">Use este foromulário para cadastrar um novo produto. Os produtos cadastrados aqui serão disponibilizados para venda.</span>
                </md-card-title-text>
                <md-card-title-media>
                    <div class="md-media-lg card-media"></div>
                </md-card-title-media>
            </md-card-title>

            <!--In�cio do Formul�rio-->
            <div id="formulario">
                <header id="form-header">
                    <h2>Novo Produto </h2><span class="today-date"><i class="fa fa-calendar"></i>  {{date| date:'dd/MM/yyyy'}}</span>
                </header>
                <md-tabs md-dynamic-height md-stretch-tabs="always" class="md-primary" md-selected="data.selectedIndex">
                    <md-tab id="tab1" ng-disabled>
                        <md-tab-label>1 - Dados Pessoais</md-tab-label>
                        <md-tab-body>
                            <form name="formulario">
                                <div id="form-body">
                                    <div id="tab1-content">
                                        <div layout="row" style="margin-top:10px;">
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : nomeInvalido}">
                                                <label>Nome</label>
                                                <input name="nome" ng-model="dadosPessoais.nome">
                                            </md-input-container>
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : cpfInvalido}">
                                                <label>CPF</label>
                                                <input name="cpf" ng-model="dadosPessoais.cpf">
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : emailInvalido}">
                                                <label>E-mail</label>
                                                <input type="email" name="email" ng-model="dadosPessoais.email">
                                            </md-input-container>
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : telefoneInvalido}">
                                                <label>Telefone</label>
                                                <input name="telefone" ng-model="dadosPessoais.telefone">
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : cepInvalido}">
                                                <label>CEP</label>
                                                <input name="cep" ng-model="dadosPessoais.cep">
                                            </md-input-container>
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : logradouroInvalido}">
                                                <label>Logradouro</label>
                                                <input name="logradouro" ng-model="dadosPessoais.logradouro">
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : cidadeInvalido}">
                                                <label>Cidade</label>
                                                <input name="cidade" ng-model="dadosPessoais.cidade">
                                            </md-input-container>

                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : estadoInvalido}">
                                                <label>Estado</label>
                                                <input name="estado" ng-model="dadosPessoais.estado">
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : tipoAcessoInvalido}">
                                                <label>Tipo de Acesso</label>
                                                <md-select class="md-accent"  name="type" ng-model="dadosPessoais.tipoAcesso">
                                                    <md-option value="app">Cliente</md-option>
                                                    <md-option value="web">Funcion�rio</md-option>
                                                </md-select>
                                            </md-input-container>

                                            <md-input-container flex="50" class="md-accent" ng-class="{
                                                'md-input-invalid'
                                                : cargoInvalido}">
                                                <label>Cargo</label>
                                                <input name="cargo" ng-model="dadosPessoais.cargo">
                                            </md-input-container>
                                        </div>
                                        <div class="form-actions noborder">             
                                            <md-button class="md-raised"><i class="material-icons" style="font-size: 1.4em">close</i> Cancelar</md-button>
                                            <md-button class="md-raised md-primary" ng-click="validarDadosPessoais(dadosPessoais)"><i class="material-icons">keyboard_arrow_right</i>Próximo</md-button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </md-tab-body>
                    </md-tab>
                    <md-tab id="tab2">
                        <md-tab-label>2 - Autenticação</md-tab-label>
                        <md-tab-body>
                            <form name="autenticacao">
                                
                                <md-content>
                                    <md-input-container class="md-icon-float md-accent"  md-is-error="autenticacao.senha.$invalid && (autenticacao.$submitted || autenticacao.senha.$dirty)">
                                        <label>Senha</label>
                                        <md-icon md-font-icon="fa fa-lock" style="color:#444444"></md-icon>
                                        <input required minlength="4" maxlength="20" name="senha" ng-model="autenticacao.senha">
                                        <div ng-messages="autenticacao.senha.$error"  ng-if="autenticacao.$submitted || autenticacao.senha.$touched">
                                            <div ng-message="required" ng-if="autenticacao.senha.$error.required">
                                                Este campo é obrigatório.
                                            </div>
                                            <div ng-message="md-minlength" ng-if="autenticacao.senha.$error.minlength">
                                                Your email must be between 10 and 100 characters long and should be a valid email address.
                                            </div>
                                        </div>
                                    </md-input-container>

                                </md-content>
                                <div class="form-actions noborder">             
                                    <md-button class="md-raised"><i class="material-icons" style="font-size: 1.4em">close</i> Cancelar</md-button>
                                    <md-button class="md-raised md-primary" ng-click="validarDadosPessoais(dadosPessoais)"><i class="material-icons" style="font-size:1.3em;">save</i> Salvar</md-button>
                                </div>
                            </form>
                            <form name="formAutenticacao" class="container-fluid" ng-submit="formAutenticacao.$valid && submit()" novalidate>
                                <div class="row">
                                    <div class="col-xs-8">
                                        <md-input-container class="md-icon-float md-accent">
                                            <label>Name</label>
                                            <md-icon md-font-icon="fa fa-user" style="color:#444444"></md-icon>
                                            <input name="login" ng-model="dadosAutenticacao.login" ng-required="true">
                                            <div ng-messages="formAutenticacao.login.$error" ng-if="formAutenticacao.$submitted || formAutenticacao.login.$touched">
                                                <div ng-message="required">O campo login é obrigatório.</div>
                                            </div>
                                        </md-input-container>
                                        <md-input-container class="md-icon-float md-accent">
                                            <label>Senha</label>
                                            <md-icon md-font-icon="fa fa-lock" style="color:#444444" ng-class="{'vermelho': formAutenticacao.senha.$error.required, 'azul':focus&&!formAutenticacao.senha.$error.required}"></md-icon>
                                            <input name="senha" ng-model="dadosAutenticacao.senha" ng-required="true" required="" ng-focus="focus=true" ng-blur="focus=false">
                                            <div ng-messages="formAutenticacao.senha.$error" ng-if="formAutenticacao.$submitted || formAutenticacao.senha.$touched">
                                                <div ng-message="required">O campo senha é obrigatório.</div>
                                            </div>
                                        </md-input-container>
                                        <h2>senha inválida: {{formAutenticacao.senha.$error.required}}</h2>
                                    </div>
                                </div>
                                <md-button type="button" ng-click="reset()">RESET</md-button>
                                <md-button class="md-primary">SUBMIT</md-button>
                            </form>
                        </md-tab-body>
                    </md-tab>
                </md-tabs>
            </div>
        </md-card>
    </md-content>

</body>
</html>