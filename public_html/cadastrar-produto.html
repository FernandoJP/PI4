<!DOCTYPE html>
<html lang="pt-br" ng-app="StarterApp">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="styles/cadastrar-usuario.css">
    </head>
    <body layout="row" ng-controller="AppCtrl">

    <md-content flex md-scroll-y  id="conteudo">
        <md-card md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" md-theme-watch="">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Cadastrar Usuário</span>
                    <span class="md-subhead">Use este formulário para cadastrar um novo usuário no sistema.</span>
                </md-card-title-text>
                <md-card-title-media>
                    <div class="md-media-lg card-media"></div>
                </md-card-title-media>
            </md-card-title>

            <!--In�cio do Formul�rio-->
            <div id="formulario">
                <header id="form-header">
                    <h2>Novo Usuário </h2><span class="today-date"><i class="fa fa-calendar"></i>  {{date| date:'dd/MM/yyyy'}}</span>
                </header>
                <md-tabs md-dynamic-height md-stretch-tabs="always" class="md-primary" md-selected="data.selectedIndex">
                    <md-tab id="tab1" ng-disabled>
                        <md-tab-label>1 - Dados Pessoais</md-tab-label>
                        <md-tab-body>
                            <form name="formularioDados">
                                <div id="form-body">
                                    <div id="tab1-content">
                                        <div layout="row" style="margin-top:10px;">
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': nomeInvalido}">
                                                <label>Nome</label>
                                                <input name="nome" ng-model="dadosPessoais.nome" ng-required="true">
                                                <div ng-messages="formularioDados.nome.$error" ng-if="formularioDados.$submitted || formularioDados.nome.$touched">
                                                    <div ng-message="required">O campo nome é de preenchimento obrigatório.</div>
                                                </div>
                                            </md-input-container>
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': cpfInvalido}">
                                                <label>CPF</label>
                                                <input name="cpf" ng-model="dadosPessoais.cpf" ng-required="true" ng-pattern="([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})">
                                                <div ng-messages="formularioDados.cpf.$error" ng-if="formularioDados.$submitted || formularioDados.cpf.$touched">
                                                    <div ng-message="required">O campo CPF é de preenchimento obrigatório.</div>
                                                    <div ng-message="pattern">Por favor informar um número de CPF válido.</div>
                                                </div>
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': emailInvalido}">
                                                <label>E-mail</label>
                                                <input type="email" name="email" ng-model="dadosPessoais.email">
                                            </md-input-container>
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': telefoneInvalido}">
                                                <label>Telefone</label>
                                                <input name="telefone" ng-model="dadosPessoais.telefone">
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': cepInvalido}">
                                                <label>CEP</label>
                                                <input name="cep" ng-model="dadosPessoais.cep">
                                            </md-input-container>
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': logradouroInvalido}">
                                                <label>Logradouro</label>
                                                <input name="logradouro" ng-model="dadosPessoais.logradouro">
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': cidadeInvalido}">
                                                <label>Cidade</label>
                                                <input name="cidade" ng-model="dadosPessoais.cidade">
                                            </md-input-container>

                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': estadoInvalido}">
                                                <label>Estado</label>
                                                <input name="estado" ng-model="dadosPessoais.estado">
                                            </md-input-container>
                                        </div>
                                        <div layout="row">
                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': tipoAcessoInvalido}">
                                                <label>Tipo de Acesso</label>
                                                <md-select class="md-accent"  name="type" ng-model="dadosPessoais.tipoAcesso">
                                                    <md-option value="app">Cliente</md-option>
                                                    <md-option value="web">Funcion�rio</md-option>
                                                </md-select>
                                            </md-input-container>

                                            <md-input-container flex="50" class="md-accent" ng-class="{'md-input-invalid': cargoInvalido}">
                                                <label>Cargo</label>
                                                <input name="cargo" ng-model="dadosPessoais.cargo">
                                            </md-input-container>
                                        </div>
                                        <div class="form-actions noborder">             
                                            <md-button class="md-raised"><i class="material-icons" style="font-size: 1.4em">close</i> Cancelar</md-button>
                                            <md-button class="md-raised md-primary" ng-click="validarDadosPessoais(dadosPessoais)"><i class="material-icons">keyboard_arrow_right</i>Próximo</md-button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </md-tab-body>
                    </md-tab>
                    <md-tab id="tab2">
                        <md-tab-label>2 - Autenticação</md-tab-label>
                        <md-tab-body>
                            <form name="formAutenticacao" class="container-fluid formAutenticacao" ng-submit="formAutenticacao.$valid && submit()" novalidate>
                                <div class="row">
                                    <div class="col-xs-8">
                                        <md-input-container class="md-icon-float md-accent" >
                                            <label>Nome de usuário</label>
                                            <md-icon md-font-icon="fa fa-lock" style="color:#444444" ng-class="{'clarear': focusA == true}"></md-icon>
                                            <input name="userName" ng-model="dadosAutenticacao.userName" ng-required="true" ng-minlength="5" ng-maxlength="50" required="" ng-focus="focusA = true" ng-blur="focusA = false">
                                            <div ng-messages="formAutenticacao.userName.$error" ng-if="formAutenticacao.$submitted || formAutenticacao.userName.$touched">
                                                <div ng-message="required">O campo nome de usuário é de preenchimento obrigatório.</div>
                                            </div>
                                        </md-input-container><br />
                                        <md-input-container class="md-icon-float md-accent" >
                                            <label>Senha</label>
                                            <md-icon md-font-icon="fa fa-lock" style="color:#444444" ng-class="{'clarear': focusB == true}"></md-icon>
                                            <input name="senha" ng-model="dadosAutenticacao.senha" ng-required="true" ng-minlength="4" ng-maxlength="50" required="" ng-focus="focusB = true" ng-blur="focusB = false">
                                            <div ng-messages="formAutenticacao.senha.$error" ng-if="formAutenticacao.$submitted || formAutenticacao.senha.$touched">
                                                <div ng-message="required">O campo senha é de preenchimento obrigatório.</div>
                                            </div>
                                        </md-input-container>

                                    </div>
                                </div>
                                <div class="form-actions noborder">             
                                    <md-button class="md-raised"><i class="material-icons" style="font-size: 1.4em">close</i> Cancelar</md-button>
                                    <md-button class="md-raised md-primary" ng-click="validarDadosPessoais(dadosPessoais)"><i class="material-icons" style="font-size:1.3em;">save</i> Salvar</md-button>
                                </div>
                            </form>
                        </md-tab-body>
                    </md-tab>
                </md-tabs>
            </div>
        </md-card>
    </md-content>

</body>
</html>